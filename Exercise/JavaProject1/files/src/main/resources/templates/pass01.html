<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>任务</title>
</head>
<body>

<h1>欢迎</h1>
<h3>Pass01</h3>

<h3>上传文件:</h3>
<form th:action="@{/pass01/upload}" method="post" enctype="multipart/form-data" onsubmit="return checkFile()">
    <input type="file" name="aaa">
    <input type="submit" value="上传文件">
</form>

<script type="text/javascript">
    function checkFile() {
        var file = document.getElementsByName('aaa')[0].value;
        if (file == null || file == "") {
            alert("请选择要上传的文件!");
            return false;
        }
        //定义允许上传的文件类型
        var allow_ext = ".jpg|.png|.gif";
        //提取上传文件的类型
        var ext_name = file.substring(file.lastIndexOf("."));
        //判断上传文件类型是否允许上传
        if (allow_ext.indexOf(ext_name) == -1) {
            var errMsg = "该文件不允许上传，请上传" + allow_ext + "类型的文件,当前文件类型为：" + ext_name;
            alert(errMsg);
            return false;
        }
    }
</script>
</body>
</html>