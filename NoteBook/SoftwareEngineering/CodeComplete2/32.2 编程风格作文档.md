# 32.2 编程风格作文档

<!-- TOC -->

- [32.2 编程风格作文档](#322-编程风格作文档)
    - [坏的例子：](#坏的例子)
    - [好的例子：](#好的例子)
    - [核对表：自说明代码](#核对表自说明代码)

<!-- /TOC -->

---

与**外部文档**相比，内部文档**嵌入**于程序清单本身，是最详细的文档，**位于源码层次上**。

由于**内部文档**与代码的联系最密切，所以也是代码修正后最可能保持正确的那种文档。

**内部文档**在代码层文档起主要作用的因素：

- 不是注释
- 是**好的编程风格**

**好的编程风格**包括：

- 良好的程序结构
- 直率易懂的方法
- 有意义的变量名和子程序名
- 具名常量
- 清晰的布局
- 最低复杂度的控制流及数据结构

---

## 坏的例子：
![](https://ws2.sinaimg.cn/large/006tKfTcgy1fho527dfw3j30og0c8jur.jpg)

这个例子差不在于没有注释，而自傲与缺乏好的**编程风格**：

- 不恰当的变量名
- 不良的布局


---


## 好的例子：

![](https://ws3.sinaimg.cn/large/006tKfTcgy1fho53hw68qj30qw0d0dk1.jpg)

这个例子接近了易读性的最高水平：**自说明代码。**

这些代码通过**好的编程风格**承担**文档说明**的很大一部分任务。

对于精心编写的代码而言，注释不过是美丽衣裳上的小饰物而已。


---

## 核对表：自说明代码

- **类**
 - 你的类接口体现出某种一致的抽象吗？
 - 你的类名有意义吗？能说明其中心意图吗？
 - 你的类接口对于如何使用该类显而易见吗?
 - 你的类接口能抽象到不需考虑其实现过程吗？能把类看成是黑盒吗？

- **子程序**
 - 你的每个子程序名都能准确地指示该子程序确切干些什么吗？
 - 你的各子程序的任务明确吗？
 - 若各子程序中自成一体后更有用，你都将其各自独立出来了吗？
 - 每个子程序的接口都清晰明了吗?

- **数据名**
 - 类型名描述有助于数据说明吗?
 - 你的变量名有意义吗?
 - 变量只用在其名字所代表意义的场合吗？
 - 你的循环变量名能给出更多信息，而不是i、j、k之类的吗？
 - 你用了名字有意义的枚举类型，而非临时拼凑的标识或布尔变量吗？
 - 用具名常量代替神秘数值或者字符串了吗？
 - 你的命名规范能区分类型名、枚举类型、具名常量、局部变量、类变量以及全局变量吗？

 
- **数据组织**
 - 你根据编程清晰的需要，使用了额外变量来提高清晰度吗？
 - 你对某变量的引用集中吗？
 - 数据类型简化到了最低复杂度吗？
 - 你是通过抽象访问子程序（抽象数据类型）来访问复杂数据吗？

- **控制**        
 - 代码中的正常执行路径很清晰吗？
 - 相关语句放在一起了吗？
 - 相对独立的语句组打包为子程序了吗？
 - 正常情况的处理位于if语句之后，而非在else字句中吗？
 - 控制结构简单明了，以使复杂度最低吗？
 - 每个循环完成且仅完成一个功能，是像定义良好的子程序那么做吗？
 - 嵌套层次是最少吗？
 - 逻辑表达式通过额外添加布尔变量、布尔函数和功能表简化了吗？

- **布局** 
 - 程序的布局能表现出其逻辑结构吗？

- **设计**
 - 代码直截了当了吗？是不是避免了自作聪明或新花样？
 - 实现细节尽可能隐藏了吗？
 - 程序是尽可能采用问题领域的术语，而非按照计算机科学或编程语言的术语编写的吗？

 
   




