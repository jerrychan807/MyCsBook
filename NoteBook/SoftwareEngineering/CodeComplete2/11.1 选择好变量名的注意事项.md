# 11.1 选择好变量名的注意事项

<!-- TOC -->

- [11.1 选择好变量名的注意事项](#111-选择好变量名的注意事项)
- [简述:](#简述)
- [1.最重要的命名注意事项](#1最重要的命名注意事项)
- [2.以问题为导向](#2以问题为导向)
- [3.最适当的名字长度](#3最适当的名字长度)
    - [为什么名字长度要适当?](#为什么名字长度要适当)
    - [变量名一般多长？](#变量名一般多长)
    - [我们需要注意什么？](#我们需要注意什么)
    - [变量名示例:](#变量名示例)
- [4.变量名对作用域的影响](#4变量名对作用域的影响)
    - [变量名&作用域:](#变量名作用域)
    - [例子：](#例子)
    - [如何使用全局变量：](#如何使用全局变量)
- [5.变量名中的计算值限定词](#5变量名中的计算值限定词)
    - [原则：](#原则)
    - [优点:](#优点)
- [6.变量名中的常用对仗词](#6变量名中的常用对仗词)
    - [原则：](#原则-1)
    - [好处：](#好处)

<!-- /TOC -->

---

# 简述:

* 变量和变量名就本质而言是同一事物.

* **变量的好与坏决定于它的命名的好坏.**

* 给变量命名的时候需要小心谨慎

> 最近在接手旧同事的Python代码的时候，就发现有些变量名让人第一眼并不嫩能直观的知道这个变量是干啥的。
>
> 它定义了一个subdomain和subdomains，前一个用来表示子域名，后一个用来表示子域名列表。
>
> 个人觉得，subdomains换成sub\_domain\_list会更好

* 反例：

![](https://ws3.sinaimg.cn/large/006tNc79gy1fhkjzy7xhnj30vk03wabl.jpg)

* 正例：

![](https://ws2.sinaimg.cn/large/006tNc79gy1fhkjzhkhapj30w204c400.jpg)

**一个好的变量名是可读的,易记的和恰如其分的**

可以运用多条原则来实现目标。

> 有哪些原则和注意事项呢?

---

# 1.最重要的命名注意事项

为变量命名时最重要的考虑事项是：**该名字是否能完全,准确地描述出该变量所代表的事物.**

技巧：用文字表达变量所代表的是什么。  
**通常，对变量的描述就是最佳的变量名。**

因为这些名字容易阅读,其中**不包含晦涩的缩写**,**同时没有歧义**.**因为它是对该事物的完整描述.**

* 例子：
  ![](https://ws4.sinaimg.cn/large/006tNc79gy1fhkk6cs9yzj30w608a76n.jpg)
  * cd和c是很糟的命名，因为它们太短，同时又**不具有描述性**。
  * **名字应该尽可能地明确**。像x、temp、i这些名字都泛泛的可以用于多种目的，它们并**没有像应该的那样提供足够信息**，因此通常都是命名上的败笔。

---

# 2.以问题为导向

**一个好名字通常表达的是"什么",而不是"如何how"**

一般而言，如果一个名字反映了计算的某些方面而不是问题本身,那么它反映的就是how了而非what了。

* 例子：
  * 一条员工数据可命名为inputRec\(反映输入\)或employeeData\(直指问题领域\)
  * 在财务软件,calcVal的计算痕迹比sum更明显

---

# 3.最适当的名字长度

## 为什么名字长度要适当?

* 太短的名字无法传达足够的信息
* 太长的名字很难写,同时也会使程序的视觉结构变得模糊不清.

## 变量名一般多长？

* 当变量名的平均长度在10到16个字符的时候，调试程序所需要花费的力气是最小的（1990）

## 我们需要注意什么？

* 如果当你查看自己写的代码时发现了很多更短的名字，那么你需要认真检查，确保

## 变量名示例:

![](http://upload-images.jianshu.io/upload_images/1423035-85d1c0c38dcfb0ea.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)

---

# 4.变量名对作用域的影响

## 变量名&作用域:

短变量名i,这一长度本身就对该变量名做出了一些说明:

* 代表的是一个**临时的数据**,它的**作用域非常有限.**

较长的名字适用于很少用到的变量或者全局变量,而较短的名字则适用于局部变量或者循环变量.\(1980\)

## 例子：

```
#前面定义了domain = ‘xxx.com’
for c in sub_domain1:       #sub_domain1:表示的是用规则1去匹配到的子域名列表，列表元素大概是这样的格式：a.xxx.com
        if domain in c:       #if domain in c:表示如果找到的数据里面含有xxx.com字段，则对c这个数据进行数据清理。
            # c = c.encode('utf-8')
            c = c.strip().encode('utf-8')
            if '//' in c:
                c = c.split('/')[2]
            c = c.split('/')[0]
            #print c
            remove_repeat(c)
```

> 用到Python的for .. in ..：  
> 我更喜欢用的是`for eachdomain in subdomain1`，这样更具有可读性，让代码变成有点伪代码的意思。

## 如何使用全局变量：

对位于全局命名空间的名字要加以**限定词**

如果你在全局命名空间中定义了一些变量（具名常量、类名等），请考虑是否需要采**用某种方式对全局命名空间进行划分**，并避免产生命名冲突。

* 方式1：**为全局可见的类加上带有子系统特征的前缀**

  * 用户接口部分的雇员类可能命名为uiEmployee
  * 数据库部分的雇员类可能命名为dbEmployee
  * **这样能把全局命名空间的命名冲突降到最低**

* 方式2：

  * Java中，你可以通过package来实现
  * python中，也如此。 

---

# 5.变量名中的计算值限定词

常见限定词:Total,Sum,Average,Max,Min,Record,String

计算结果的变量:总额,平均值,最大值

## 原则：

* **把限定词加到名字的最后**

* 例子：

  * revenueTotal
  * expenseTotal
  * revenueAverage
  * expenseAverage 

## 优点:

* 突出主要含义的部分，让其首先被阅读到
* 具有优雅的对称性,提高可读性

---

# 6.变量名中的常用对仗词

* begin/end

* first/last

* locked/unlocked

* min/max

* next/previous

* old/new

* opened/closed

* visible/invisible

* source/target

* source/destination

* up/down

## 原则：

* 对仗词的使用要准确

## 好处：

* 通过应用命名规则来提高对仗词使用的一致性，从而提高可读性。
* 容易理解和记忆



